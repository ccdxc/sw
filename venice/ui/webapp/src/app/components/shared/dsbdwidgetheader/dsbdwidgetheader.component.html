<div fxFlex fxLayout="row" class="dsbd-widgetheader">
    <div fxFlex="none" class="dsbd-widgetheader-mat-icon-container" (click)="$event.stopPropagation();">
        <mat-icon *ngIf="icon.svgIcon" [ngStyle]="_iconStyles" [svgIcon]="icon.svgIcon" 
                    [style.background-color]="iconFillColor" [style.color]="iconColor" [style.border]="'2px solid ' + iconFillColor" class="dsbd-widgetheader-icon">
        </mat-icon>
        <mat-icon *ngIf="icon.matIcon" [ngStyle]="_iconStyles" 
                    [style.background-color]="iconFillColor" [style.color]="iconColor" [style.border]="'2px solid ' + iconFillColor"
                    class="dsbd-widgetheader-icon dsbd-widgetheader-icon-byname">
            {{icon.matIcon}}
        </mat-icon>
    </div>
    <div fxFlex="none" class="dsbd-widgetheader-title" (click)="$event.stopPropagation();">{{title}}</div>
    <div fxFlex></div>
    <div *ngIf="hasUpdateString" fxFlex="nogrow" fxLayout="column" class="dsbd-widgetheader-update-text" (click)="$event.stopPropagation();">
        Last Updated: {{ lastUpdateTime | PrettyDate }}
    </div>    
    <div *ngIf="!hasUpdateString && timeRange != null" fxFlex="nogrow" fxLayout="column" class="dsbd-widgetheader-update-text" (click)="$event.stopPropagation();">
        {{ timeRange}}
    </div>    
    <div fxFlex="36px" class="dsbd-widgetheader-info" *ngIf="menuItems.length>0" (click)="$event.stopPropagation();">
        <mat-icon class="dsbd-widgetheader-morevert" [matMenuTriggerFor]="menu" aria-label="Open basic menu">
            more_vert 
        </mat-icon>
        <mat-menu #menu="matMenu">
            <button mat-menu-item *ngFor="let item of menuItems" (click)="item.onClick()" [disabled]="item.disabled" [disableRipple]="true">
              {{ item.text }}
            </button>
          </mat-menu>
    </div>
</div>

        
        